<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CTK Med Hub ‚Ä¢ ‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏£‡∏ß‡∏°‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏ä‡∏≤‡∏ï‡∏¥‡∏ï‡∏£‡∏∞‡∏Å‡∏≤‡∏£</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b1220; --ink:#e5e7eb; --muted:#9aa4b2; --card:#0f172a; --line:#1f2937;
      --accent:#22d3ee; --accent-2:#8b5cf6; --ok:#10b981; --warn:#f59e0b; --danger:#ef4444;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:'Sarabun',system-ui, sans-serif; color:var(--ink);
      background:
        radial-gradient(1200px 600px at -10% -10%, #0d1b2a 25%, transparent 65%),
        radial-gradient(1000px 600px at 120% 0%, #0a1628 25%, transparent 65%),
        var(--bg);
      padding:24px;
    }

    /* Header / Hero */
    .hero{
      max-width:1100px; margin:0 auto 28px; padding:22px; border-radius:18px;
      background:linear-gradient(135deg, rgba(34,211,238,.12), rgba(139,92,246,.12));
      border:1px solid rgba(255,255,255,.09);
      display:flex; align-items:center; gap:18px; flex-wrap:wrap;
      box-shadow:0 18px 50px rgba(0,0,0,.30);
    }
    .hero .brand{display:flex; align-items:center; gap:14px}
    .logo{width:56px;height:56px;border-radius:14px;object-fit:contain;background:#0b1120;border:1px solid rgba(255,255,255,.16);box-shadow:0 8px 24px rgba(34,211,238,.25), inset 0 0 0 2px rgba(139,92,246,.35)}
    .title{font-weight:700; font-size:22px}
    $1
    .credit-mini{color:var(--muted);font-size:13px;margin-top:4px}

    /* Grid */
    .grid{max-width:1100px; margin:0 auto; display:grid; gap:22px; grid-template-columns:repeat(auto-fit,minmax(280px,1fr));}

    /* Card */
    .card{
      background:var(--card); border:1px solid rgba(255,255,255,.08); border-radius:16px;
      padding:18px; box-shadow:0 10px 30px rgba(0,0,0,.25); display:flex; flex-direction:column; gap:12px;
      transition:transform .2s ease, box-shadow .2s ease;
    }
    .card:hover{ transform: translateY(-4px); box-shadow:0 16px 40px rgba(0,0,0,.35); }
    .card h2{ margin:0; font-size:18px; display:flex; align-items:center; gap:8px }
    .desc{ color:var(--muted); margin:0 }
    .chips{ display:flex; gap:8px; flex-wrap:wrap }
    .chip{ font-size:12px; padding:4px 8px; border-radius:999px; border:1px solid #223; background:#0b1120; color:#cbd5e1 }
    .chip.ok{ border-color: rgba(16,185,129,.35); background:rgba(16,185,129,.12); color:#a7f3d0 }
    .chip.warn{ border-color: rgba(245,158,11,.35); background:rgba(245,158,11,.12); color:#fde68a }
    .actions{ display:flex; gap:10px; margin-top:auto }
    .btn{ flex:1; text-align:center; text-decoration:none; font-weight:700; padding:12px 14px; border-radius:10px; border:1px solid rgba(255,255,255,.12); color:white; }
    .btn:hover{ filter:brightness(1.08) }
    .btn.main{ background:linear-gradient(135deg, var(--accent), var(--accent-2)) }
    .btn.alt{ background:#1f2937 }

    footer{max-width:1100px;margin:18px auto 0; color:var(--muted); font-size:13px; text-align:center}
  </style>
</head>
<body>
  <header class="hero">
    <div class="brand">
      <img src="logo.png" alt="Hospital logo" class="logo" onerror="this.style.display='none'"/>
      <div>
        <div class="title">CTK Med Hub</div>
        $1
        <div class="credit-mini">‡∏à‡∏±‡∏î‡∏ó‡∏≥‡πÇ‡∏î‡∏¢ <b>‡∏ù‡πà‡∏≤‡∏¢‡πÄ‡∏†‡∏™‡∏±‡∏ä‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡πÇ‡∏†‡∏Ñ</b></div>
      </div>
    </div>
  </header>

  <main class="grid">
    <!-- Drug Allergy Backup -->
    $1
        <a class="btn main" href="https://anupong0620.github.io/drug-allergy-backup/" target="_blank">‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏∞‡∏ö‡∏ö Drug Allergy</a>
      $2
    </section>

    <!-- Warfarin Tools -->
    <section class="card">
      <h2>üíä Warfarin</h2>
      <p class="desc">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏¢‡∏≤‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡πÉ‡∏ä‡πâ Warfarin</p>
      <div class="actions">
        <a class="btn alt" href="https://anupong0620.github.io/WARFARIN-SAVE1/" target="_blank">Pharmacist Note</a>
        <a class="btn alt" href="https://anupong0620.github.io/Warfarin-Drug-Checker/" target="_blank">Double Check</a>
      </div>
    </section>

    <!-- Price Checker -->
    <section class="card">
      <h2>üí∞ ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏¢‡∏≤ ‡∏£‡∏û.‡∏£‡∏±‡∏ê</h2>
      <p class="desc">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏¢‡∏≤‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏†‡∏≤‡∏Ñ‡∏£‡∏±‡∏ê</p>
      <div class="actions">
        <a class="btn alt" href="https://anupong0620.github.io/Price-Check/" target="_blank">‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏£‡∏≤‡∏Ñ‡∏≤</a>
      </div>
    </section>
  </main>

  <footer>
    ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡πÇ‡∏î‡∏¢ ‡∏ù‡πà‡∏≤‡∏¢‡πÄ‡∏†‡∏™‡∏±‡∏ä‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡πÇ‡∏†‡∏Ñ ‚Ä¢ ‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏ä‡∏≤‡∏ï‡∏¥‡∏ï‡∏£‡∏∞‡∏Å‡∏≤‡∏£
  </footer>

  <script>
    // ‡∏î‡∏∂‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á Drug Allergy ‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå JSON ‡πÉ‡∏ô repo ‡∏™‡∏≥‡∏£‡∏≠‡∏á
    const DATA_URL = 'https://anupong0620.github.io/drug-allergy-backup/allergy.json';

    async function loadAllergyStatus(){
      // ‡∏•‡∏≠‡∏á‡∏î‡∏∂‡∏á Last-Modified ‡∏à‡∏≤‡∏Å HEAD ‡∏Å‡πà‡∏≠‡∏ô
      try {
        const head = await fetch(DATA_URL, { method:'HEAD', cache:'no-store' });
        const lm = head.headers.get('last-modified');
        if(lm){ document.getElementById('allergyUpdated').textContent = new Date(lm).toLocaleString('th-TH'); }
      } catch {}

      try {
        const res = await fetch(DATA_URL, { cache:'no-store' });
        const arr = await res.json();
        document.getElementById('allergyCount').textContent = (Array.isArray(arr)?arr.length:0).toLocaleString('th-TH');
        if(!document.getElementById('allergyUpdated').textContent.trim()){
          // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ Last-Modified ‡∏à‡∏≤‡∏Å HEAD ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏ó‡∏ô (‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì)
          document.getElementById('allergyUpdated').textContent = new Date().toLocaleString('th-TH');
        }
      } catch(e){ /* ‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡πÑ‡∏ß‡πâ‡∏û‡∏≠‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì */ }
    }

    loadAllergyStatus();
  </script>
</body>
</html>
